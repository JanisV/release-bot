*Rongronggg9/RSS\-to\-Telegram\-Bot*
[v2\.10\.0]()

*ğŸ“š Highlights*

â¦ *Container health check*: The official Docker image includes an automatic health check to determine if the container is running properly\. The health check status can be checked in `docker ps`\. This feature, combined with [\`autoheal\`](https://github\.com/willfarrell/docker\-autoheal) or some other monitoring tool, can restart the container automatically when it is unhealthy\.
â¦ *Support for chat\-specific \#hashtags*: Telegram recently added a feature called "chat\-specific hashtags," formatting as `\#hashtag@username`\. However, escaping '@' broke these hashtags\. Properly supports such hashtags by allowing '@' in hashtags\.

*ğŸ“š Enhancements*

â¦ *No longer proxies images from `\*\.wp\.com` when generating Telegraph posts*: `\*\.wp\.com` is in the blocklist of `wsrv\.nl` \(environment variable `IMAGES\_WESERV\_NL`\)\. Thus, these images are no longer proxied when generating Telegraph posts\. All images from `\*\.wp\.com` can be accessed with any referer header, so they are now kept as is\.
â¦ *Link to repo in UA*: The default User\-Agent now contains a link to the repository, which can help webmasters identify the source of traffic and add RSStT into their allowlists\.
â¦ *Minor enhancements*: Some internal functions have been refined to enhance compatibility with various feeds\.
â¦ *Minor refactor*: Some internal functions have been refactored to improve performance, readability and maintainability\.

*ğŸ“š Bug fixes*

â¦ *Canonical `DATABASE\_URL` not recognized*: Since v2\.9\.0, `DATABASE\_URL` is canonicalized before connecting to the corresponding database\. However, a canonical URL pointing to a local path cannot be recognized when checking the validity of the scheme \(database type\)\. Both canonical \(`scheme:/path/to/file\.db`\) and traditional \(`scheme:///path/to/file\.db`\) forms of such URLs are recognized correctly now\.
â¦ *Monitoring not deferred as per server\-side cache when subscribing*: Since v2\.7\.0, monitoring tasks will be deferred when aggressive server\-side caches \(e\.g\., Cloudflare and RSSHub, which make it futile to check for updates before cache expiration\) are detected\. However, the first monitoring task for a newly subscribed feed was not being deferred\. This has been fixed and the first monitoring task now waits for the server\-side cache to expire\.
â¦ *Minor bug fixes*

<hr\>

*âœ v2\.10\.0: å®¹å™¨å¥åº·æ£€æŸ¥ã€ç‰¹å®šäºèŠå¤©çš„ \#hashtag å’Œæ›´å¤š*

*ğŸ“š äº®ç‚¹*

â¦ *å®¹å™¨å¥åº·æ£€æŸ¥*: å®˜æ–¹ Docker é•œåƒç°åœ¨åŒ…å«è‡ªåŠ¨å¥åº·æ£€æŸ¥ï¼Œç”¨äºç¡®å®šå®¹å™¨æ˜¯å¦æ­£å¸¸è¿è¡Œã€‚å¥åº·æ£€æŸ¥çŠ¶æ€å¯ä»¥åœ¨ `docker ps` ä¸­æŸ¥çœ‹ã€‚ç»“åˆ [\`autoheal\`](https://github\.com/willfarrell/docker\-autoheal) æˆ–å…¶ä»–ç›‘æ§å·¥å…·ï¼Œå½“å®¹å™¨ä¸å¥åº·æ—¶å¯ä»¥è‡ªåŠ¨é‡å¯å®¹å™¨ã€‚
â¦ *æ”¯æŒç‰¹å®šäºèŠå¤©çš„ \#hashtag*: Telegram æœ€è¿‘æ·»åŠ äº†ä¸€ä¸ªåä¸ºâ€œç‰¹å®šäºèŠå¤©çš„ hashtagâ€çš„åŠŸèƒ½ï¼Œæ ¼å¼ä¸º `\#hashtag@username`ã€‚ç„¶è€Œï¼Œè½¬ä¹‰ `@` ä¼šç ´åè¿™äº› hashtagã€‚é€šè¿‡åœ¨ hashtag ä¸­å…è®¸ `@` æ¥æ­£ç¡®åœ°æ”¯æŒè¿™ç±» hashtagã€‚

*ğŸ“š å¢å¼º*

â¦ *ç”Ÿæˆ Telegraph æ–‡ç« æ—¶ï¼Œä¸å†ä»£ç†æ¥è‡ª `\*\.wp\.com` çš„å›¾åƒ*: `\*\.wp\.com` ä½äº `wsrv\.nl` \(ç¯å¢ƒå˜é‡ `IMAGES\_WESERV\_NL`\) çš„é˜»æ–­åˆ—è¡¨ä¸­ã€‚å› æ­¤ï¼Œåœ¨ç”Ÿæˆ Telegraph æ–‡ç« æ—¶ï¼Œè¿™äº›å›¾åƒä¸å†è¢«ä»£ç†ã€‚æ¥è‡ª `\*\.wp\.com` çš„æ‰€æœ‰å›¾ç‰‡éƒ½å¯ä»¥ç”¨ä»»ä½• refer å¤´è®¿é—®ï¼Œå› æ­¤å®ƒä»¬ç°åœ¨ä¿æŒåŸæ ·ã€‚
â¦ *UA ä¸­çš„ä»“åº“é“¾æ¥*: é»˜è®¤çš„ User\-Agent ç°åœ¨åŒ…å«ä¸€ä¸ªæŒ‡å‘ä»“åº“çš„é“¾æ¥ï¼Œè¿™å¯ä»¥å¸®åŠ©ç½‘ç«™ç®¡ç†å‘˜è¯†åˆ«æµé‡æ¥æºå¹¶å°† RSStT æ·»åŠ åˆ°ç™½åå•ä¸­ã€‚
â¦ *æ¬¡è¦çš„å¢å¼º*: æ”¹è¿›äº†ä¸€äº›å†…éƒ¨å‡½æ•°ä»¥å¢å¼ºä¸å„ç§ feed çš„å…¼å®¹æ€§ã€‚
â¦ *æ¬¡è¦çš„é‡æ„*: é‡æ„äº†ä¸€äº›å†…éƒ¨å‡½æ•°ä»¥æé«˜æ€§èƒ½ã€å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚

*ğŸ“š Bug ä¿®å¤*

â¦ *æ— æ³•è¯†åˆ«è§„èŒƒçš„ `DATABASE\_URL`*: è‡ª v2\.9\.0 èµ·, åœ¨è¿æ¥åˆ°ç›¸åº”çš„æ•°æ®åº“ä¹‹å‰ï¼Œ`DATABASE\_URL` è¢«è§„èŒƒåŒ–ã€‚ç„¶è€Œï¼Œåœ¨æ£€æŸ¥ scheme \(æ•°æ®åº“ç±»å‹\) çš„åˆæ³•æ€§æ—¶ï¼Œæ— æ³•è¯†åˆ«æŒ‡å‘æœ¬åœ°è·¯å¾„çš„è§„èŒƒ URLã€‚ç°åœ¨ï¼Œæ­¤ç±» URL çš„è§„èŒƒ \(`scheme:/path/to/file\.db`\) å’Œä¼ ç»Ÿ \(`scheme:///path/to/file\.db`\) å½¢å¼éƒ½è¢«æ­£ç¡®è¯†åˆ«ã€‚
â¦ *è®¢é˜…æ—¶ä¸ä¼šæ ¹æ®æœåŠ¡ç«¯ç¼“å­˜å»¶è¿Ÿç›‘æ§*ï¼šè‡ª v2\.7\.0 èµ·ï¼Œå½“æ£€æµ‹åˆ°æ¿€è¿›çš„æœåŠ¡å™¨ç«¯ç¼“å­˜æ—¶ï¼Œç›‘æ§ä»»åŠ¡å°†è¢«å»¶è¿Ÿï¼ˆä¾‹å¦‚ Cloudflare å’Œ RSSHubï¼Œå®ƒä»¬ä½¿å¾—åœ¨ç¼“å­˜è¿‡æœŸä¹‹å‰æ£€æŸ¥æ›´æ–°å˜å¾—å¾’åŠ³æ— åŠŸï¼‰ã€‚ä½†æ˜¯ï¼Œå½“æ–°è®¢é˜… feed æ—¶ï¼Œç¬¬ä¸€ä¸ªç›‘è§†ä»»åŠ¡ä¸ä¼šè¢«æ¨è¿Ÿã€‚è¯¥é—®é¢˜å·²ä¿®å¤ï¼Œç¬¬ä¸€ä¸ªç›‘æ§ä»»åŠ¡ä¼šç­‰å¾…æœåŠ¡ç«¯ç¼“å­˜è¿‡æœŸã€‚
â¦ *æ¬¡è¦çš„ bug ä¿®å¤*
